
<div class="container mt-5">

  <h1 class="text-white mb-5 text-center" style="font-weight: bold; font-size: 2.5rem;">
    <i class="fa fa-image"></i> Gestión de Imágenes
  </h1>

  <!-- Botón para desplegar/ocultar formulario -->
  <div class="d-flex justify-content-center mb-4">
    <button class="btn btn-outline-light btn-sm" type="button" data-bs-toggle="collapse" data-bs-target="#multimediaForm" aria-expanded="false" aria-controls="multimediaForm">
      <i class="fa fa-plus"></i> Agregar Nueva Imagen
    </button>
  </div>

  <!-- Formulario colapsable -->
  <div class="collapse mb-5" id="multimediaForm">
    <div class="mt-3 p-4 shadow-lg rounded bg-dark text-white">
      <h5 class="mb-4"><i class="fa fa-plus-circle"></i> Crear Nueva Imagen</h5>
      <form (ngSubmit)="crearMultimedia()">
        
        <!-- Descripción -->
        <div class="mb-3">
          <label for="descripcion" class="form-label"><b>Descripción</b></label>
          <input 
            id="descripcion" 
            [(ngModel)]="unMultimedia.descripcion" 
            name="descripcion" 
            type="text"
            class="form-control bg-secondary text-white border-0" 
            placeholder="Descripción de la imagen" 
            required 
          />
        </div>

        <!-- URL de la Imagen -->
        <div class="mb-3">
          <label for="url" class="form-label"><b>URL de la Imagen</b></label>
          <input 
            id="url" 
            [(ngModel)]="unMultimedia.url" 
            name="url" 
            type="text"
            class="form-control bg-secondary text-white border-0" 
            placeholder="URL de la imagen" 
            required 
          />
          <img [src]="unMultimedia.url" class="img-thumbnail mt-2 rounded" *ngIf="unMultimedia.url" />
        </div>

        <button type="submit" class="btn modern-btn-sm mt-3">
          <i class="fa fa-save"></i> Crear Imagen
        </button>

      </form>
    </div>
  </div>

  <!-- Grid de Imágenes -->
  <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
    <ng-container *ngFor="let multimedia of Multimedias">
      <div class="col">
        <div class="card modern-card h-100 text-white overflow-hidden">
          <!-- Imagen -->
          <img [src]="multimedia.url" class="card-img" alt="{{ multimedia.descripcion }}">
          
          <!-- Información -->
          <div class="card-body">
            <h5 class="card-title">{{ multimedia.descripcion }}</h5>
          </div>
          
          <!-- Botones -->
          <div class="card-footer">
            <button 
              type="button" 
              class="btn btn-sm btn-danger overlay-btn" 
              (click)="eliminarImagen(multimedia)"
            >
              <i class="fa fa-trash"></i> Eliminar
            </button>
            <button 
              type="button" 
              class="btn btn-sm btn-success overlay-btn" 
              (click)="imagenEditar(multimedia._id)"
            >
              <i class="fa fa-edit"></i> Editar
            </button>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

</div>